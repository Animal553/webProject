# Mysql晨考题

1. ## 描述主键、外键、候选主键、超键是什么

   ```
   主 键：
   数据库表中对储存数据对象予以唯一和完整标识的数据列或属性的组合。
   超 键：
   在关系中能唯一标识元素的属性集称为关系模式的超键。
   候选键：
   是最小超键，即没有冗余元素的超键。
   外 键：
   在一个表中存在的另一个表的主键称此表的外键。
   ```

   

2. ## 数据库设计的三大范式

   ```
   第一范式（1NF）：确保每列保持原子性即列不可分
   第二范式（2NF）：属性完全依赖于主键（属性都是该对象拥有的）
   第三范式（3NF）:属性和主键不能间接相关（减少数据冗余，这样就可以通过主外键进行表之间连接）
   ```

   

3. ## drop,delete与truncate的区别

   ```
   1、drop (删除表)：删除内容和定义，释放空间。简单来说就是把整个表去掉.以后要新增数据是不可能的,除非新增一个表。
   2、truncate (清空表中的数据)：删除内容、释放空间但不删除定义(保留表的数据结构)。与drop不同的是,只是清空表数据而已。
   3、delete (删除表中的数据)：delete 语句用于删除表中的行。delete语句执行删除的过程是每次从表中删除一行，并且同时将该行的删除操作作为事务记录在日志中保存以便进行进行回滚操作。
   truncate与不带where的delete ：只删除数据，而不删除表的结构（定义）
   ```

   

4. ## SQL UNION 和 UNION ALL 区别

   ```
   UNION 并集，表中的所有数据，并且去除重复数据并排序（工作中主要用到的是这个）；
   UNION ALL，表中的数据都罗列出来；
   ```

   

5. ## exists、in、any、all区别 

   ```
   EXISTS 只要遇到第一个满足条件的记录就马上返回(true,false)
   IN 操作符允许我们在 WHERE 子句中规定多个值
   ANY关键字表示满足其中任意一个条件。使用ANY关键字时，只要满足内层查询语句返回的结果中的任意一个，就可以通过该条件来执行外层查询语句
   ALL关键字表示满足所有条件。使用ALL关键字时，只有满足内层查询语句返回的所有结果，才可以执行外层查询语句
   ```

   

6. ## sql语句的执行顺序

   ```
   from 
   join 
   on 
   where 
   group by(开始使用select中的别名，后面的语句中都可以使用)
   avg,sum.... 
   having 
   select 
   distinct 
   order by
   limit 
   ```

   

7. ## count(*)和count(1)和count(id)区别

   ```
   count是数据库中的聚合函数，表示查找数据库中的个数。
   COUNT(1) 和 COUNT(*)表示的是直接查询符合条件的数据库表的行数
   而COUNT(列名/字段)表示的是查询符合条件的列的值不为NULL的行数。
   效率：count(1)>count(*)>count(id)
   ```

   

8. ## SQL语句优化（不少于6条）

   ```
   避免在WHERE子句中使用in，not in，or 或者having；
   可以使用 exist 和not exist代替 in和not in；对连续数值可以使用between；
   可以使用表链接代替 exist；
   Having可以用where代替，如果无法代替可以分两步处理。
   应尽量避免在where子句中对字段进行函数操作；
   尽量避免在 where 子句中对索引字段进行计算操作；
   应尽量避免在 where 子句中使用 != 或 <> 操作符；
   应尽量避免在 where 子句中对字段进行 null 值判断；
   应尽量避免在 where 子句中使用 or 来连接条件；
   否则将导致引擎放弃使用索引而进行全表扫描
   ```

   

9. ## SQL常用函数有哪些？

   ```
   AVG(col)返回指定列的平均值
   COUNT(col)返回指定列中非NULL值的个数
   MIN(col)返回指定列的最小值
   MAX(col)返回指定列的最大值
   SUM(col)返回指定列的所有值之和
   GROUP_CONCAT(col) 返回由属于一组的列值连接组合而成的结果
   NOW()    返回当前的日期和时间
   QUARTER(date)   返回date在一年中的季度(1~4)，如SELECT QUARTER(CURRENT_DATE);
   WEEK(date)   返回日期date为一年中第几周(0~53)
   YEAR(date)   返回日期date的年份(1000~9999)
   ```

   

10. ## 左连接 右连接 内连接的区别

    ```
    left join （左连接）：返回包括左表中的所有记录和右表中连接字段相等的记录。
    right join （右连接）：返回包括右表中的所有记录和左表中连接字段相等的记录。
    inner join （等值连接或者叫内连接）：只返回两个表中连接字段相等的行。
    ```

    

11. # Mysql三种常见引擎的区别

    | 特性           | InnoDB | MyISAM | MEMORY |
    | -------------- | ------ | ------ | ------ |
    | 事物安全       | 支持   | 不支持 | 不支持 |
    | 对外建的支持   | 支持   | 不支持 | 不支持 |
    | 存储限制       | 64TB   | 有     | 有     |
    | 空间使用       | 高     | 低     | 低     |
    | 内存使用       | 高     | 低     | 高     |
    | 插入数据的速度 | 低     | 高     | 高     |

